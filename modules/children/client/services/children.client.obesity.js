(function () {
  'use strict';

  // var obesityGirls = [
  //   { 0: 15.5 },
  //   { 1: 17.0 },
  //   { 2: 18.4 },
  //   { 3: 19.0 },
  //   { 4: 19.4 },
  //   { 5: 19.6 },
  //   { 6: 19.6 },
  //   { 7: 19.6 },
  //   { 8: 19.6 },
  //   { 9: 19.4 },
  //   { 10: 19.3 },
  //   { 11: 19.1 },
  //   { 12: 19.0 },
  //   { 13: 18.8 },
  //   { 14: 18.7 },
  //   { 15: 18.6 },
  //   { 16: 18.4 },
  //   { 17: 18.3 },
  //   { 18: 18.2 },
  //   { 19: 18.1 },
  //   { 20: 18.1 },
  //   { 21: 18.0 },
  //   { 22: 17.9 },
  //   { 23: 17.9 },
  //   { 24: 17.8 },
  //   { 25: 18.1 },
  //   { 26: 18.1 },
  //   { 27: 18.0 },
  //   { 28: 18.0 },
  //   { 29: 18.0 },
  //   { 30: 17.9 },
  //   { 31: 17.9 },
  //   { 32: 17.9 },
  //   { 33: 17.9 },
  //   { 34: 17.9 },
  //   { 35: 17.8 },
  //   { 36: 17.8 },
  //   { 37: 17.8 },
  //   { 38: 17.8 },
  //   { 39: 17.8 },
  //   { 40: 17.8 },
  //   { 41: 17.8 },
  //   { 42: 17.8 },
  //   { 43: 17.8 },
  //   { 44: 17.8 },
  //   { 45: 17.8 },
  //   { 46: 17.8 },
  //   { 47: 17.9 },
  //   { 48: 17.9 },
  //   { 49: 17.9 },
  //   { 50: 17.9 },
  //   { 51: 17.9 },
  //   { 52: 17.9 },
  //   { 53: 17.9 },
  //   { 54: 18.0 },
  //   { 55: 18.0 },
  //   { 56: 18.0 },
  //   { 57: 18.0 },
  //   { 58: 18.0 },
  //   { 59: 18.1 },
  //   { 60: 18.1 }
  // ];
  //
  // var obesityBoys = [
  //   { 0: 15.8 },
  //   { 1: 17.3 },
  //   { 2: 18.8 },
  //   { 3: 19.4 },
  //   { 4: 19.7 },
  //   { 5: 19.8 },
  //   { 6: 19.9 },
  //   { 7: 19.9 },
  //   { 8: 19.8 },
  //   { 9: 19.7 },
  //   { 10: 19.5 },
  //   { 11: 19.4 },
  //   { 12: 19.2 },
  //   { 13: 19.1 },
  //   { 14: 18.9 },
  //   { 15: 18.8 },
  //   { 16: 18.7 },
  //   { 17: 18.6 },
  //   { 18: 18.5 },
  //   { 19: 18.4 },
  //   { 20: 18.3 },
  //   { 21: 18.2 },
  //   { 22: 18.1 },
  //   { 23: 18.0 },
  //   { 24: 18.0 },
  //   { 25: 18.3 },
  //   { 26: 18.2 },
  //   { 27: 18.2 },
  //   { 28: 18.1 },
  //   { 29: 18.1 },
  //   { 30: 18.0 },
  //   { 31: 18.0 },
  //   { 32: 18.0 },
  //   { 33: 17.9 },
  //   { 34: 17.9 },
  //   { 35: 17.9 },
  //   { 36: 17.8 },
  //   { 37: 17.8 },
  //   { 38: 17.8 },
  //   { 39: 17.7 },
  //   { 40: 17.7 },
  //   { 41: 17.7 },
  //   { 42: 17.7 },
  //   { 43: 17.7 },
  //   { 44: 17.7 },
  //   { 45: 17.6 },
  //   { 46: 17.6 },
  //   { 47: 17.6 },
  //   { 48: 17.6 },
  //   { 49: 17.6 },
  //   { 50: 17.6 },
  //   { 51: 17.6 },
  //   { 52: 17.6 },
  //   { 53: 17.6 },
  //   { 54: 17.6 },
  //   { 55: 17.6 },
  //   { 56: 17.6 },
  //   { 57: 17.6 },
  //   { 58: 17.6 },
  //   { 59: 17.7 },
  //   { 60: 17.7 }
  // ];

  var obesityGirls = [
    15.5,
    17.0,
    18.4,
    19.0,
    19.4,
    19.6,
    19.6,
    19.6,
    19.6,
    19.4,
    19.3,
    19.1,
    19.0,
    18.8,
    18.7,
    18.6,
    18.4,
    18.3,
    18.2,
    18.1,
    18.1,
    18.0,
    17.9,
    17.9,
    17.8,
    18.1,
    18.1,
    18.0,
    18.0,
    18.0,
    17.9,
    17.9,
    17.9,
    17.9,
    17.9,
    17.8,
    17.8,
    17.8,
    17.8,
    17.8,
    17.8,
    17.8,
    17.8,
    17.8,
    17.8,
    17.8,
    17.8,
    17.9,
    17.9,
    17.9,
    17.9,
    17.9,
    17.9,
    17.9,
    18.0,
    18.0,
    18.0,
    18.0,
    18.0,
    18.1,
    18.1
  ];

  var obesityBoys = [
    15.8,
    17.3,
    18.8,
    19.4,
    19.7,
    19.8,
    19.9,
    19.9,
    19.8,
    19.7,
    19.5,
    19.4,
    19.2,
    19.1,
    18.9,
    18.8,
    18.7,
    18.6,
    18.5,
    18.4,
    18.3,
    18.2,
    18.1,
    18.0,
    18.0,
    18.3,
    18.2,
    18.2,
    18.1,
    18.1,
    18.0,
    18.0,
    18.0,
    17.9,
    17.9,
    17.9,
    17.8,
    17.8,
    17.8,
    17.7,
    17.7,
    17.7,
    17.7,
    17.7,
    17.7,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.6,
    17.7,
    17.7
  ];

  angular
    .module('children.obesityService')
    .factory('Obesity', Obesity);

  Obesity.$inject = [];

  function Obesity() {
    var getObesity = function (child, latestScreen) {
      var bmi = latestScreen.weight / (Math.pow(latestScreen.height/100, 2));
      var tableBMI = latestScreen.gender === 'Girl' ? obesityGirls[Math.round(latestScreen.monthAge)] : obesityBoys[Math.round(latestScreen.monthAge)];
      return ({ obese: bmi > tableBMI, currentBMI: bmi });
    };

    return { getObesity: getObesity };
  }
}());
